var je=Object.defineProperty,qe=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var Ce=(e,t,o)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,J=(e,t)=>{for(var o in t||(t={}))Oe.call(t,o)&&Ce(e,o,t[o]);if(ue)for(var o of ue(t))ke.call(t,o)&&Ce(e,o,t[o]);return e},te=(e,t)=>qe(e,Me(t));var de=(e,t)=>{var o={};for(var n in e)Oe.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&ue)for(var n of ue(e))t.indexOf(n)<0&&ke.call(e,n)&&(o[n]=e[n]);return o};import{o as L,m as Ie,u as Q,y as Ue,c as Ke,l as pe,f as He,K as We,a as Ye,H as ne,T as Pe,t as fe,N as ce,p as Ge,O as Je,b as q,d as Qe,n as Xe,D as Ze}from"./Dialog-DT3aKRmf.js";import{a as z,N as be,K as ae,b,j as Y,aB as A,au as et,ak as ge,M as we,F as oe,aC as tt,Q as X,at as lt,_ as Ae,ah as Le,aD as at,g as H,o as f,q as W,w as j,f as Z,l as F,n as se,m as ve,e as E,p as N,d as k,t as M,v as he,S as _,i as ye,W as U,x as xe,k as Se,aE as re,u as V,as as _e,aF as $e,h as De,aG as me,aH as ot}from"./index-D-AvquFI.js";import{P as st}from"./ActionDetails-CS7WI_u1.js";function nt(e){throw new Error("Unexpected object: "+e)}var B=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(B||{});function rt(e,t){let o=t.resolveItems();if(o.length<=0)return null;let n=t.resolveActiveIndex(),l=n!=null?n:-1,a=(()=>{switch(e.focus){case 0:return o.findIndex(u=>!t.resolveDisabled(u));case 1:{let u=o.slice().reverse().findIndex((s,i,d)=>l!==-1&&d.length-i-1>=l?!1:!t.resolveDisabled(s));return u===-1?u:o.length-1-u}case 2:return o.findIndex((u,s)=>s<=l?!1:!t.resolveDisabled(u));case 3:{let u=o.slice().reverse().findIndex(s=>!t.resolveDisabled(s));return u===-1?u:o.length-1-u}case 4:return o.findIndex(u=>t.resolveId(u)===e.id);case 5:return null;default:nt(e)}})();return a===-1?n:a}function Re(e,t){if(e)return e;let o=t!=null?t:"button";if(typeof o=="string"&&o.toLowerCase()==="button")return"button"}function it(e,t){let o=z(Re(e.value.type,e.value.as));return be(()=>{o.value=Re(e.value.type,e.value.as)}),ae(()=>{var n;o.value||L(t)&&L(t)instanceof HTMLButtonElement&&!((n=L(t))!=null&&n.hasAttribute("type"))&&(o.value="button")}),o}function ut({container:e,accept:t,walk:o,enabled:n}){ae(()=>{let l=e.value;if(!l||n!==void 0&&!n.value)return;let a=Ie(e);if(!a)return;let u=Object.assign(i=>t(i),{acceptNode:t}),s=a.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,u,!1);for(;s.nextNode();)o(s.currentNode)})}function ze(e={},t=null,o=[]){for(let[n,l]of Object.entries(e))Te(o,Be(t,n),l);return o}function Be(e,t){return e?e+"["+t+"]":t}function Te(e,t,o){if(Array.isArray(o))for(let[n,l]of o.entries())Te(e,Be(t,n.toString()),l);else o instanceof Date?e.push([t,o.toISOString()]):typeof o=="boolean"?e.push([t,o?"1":"0"]):typeof o=="string"?e.push([t,o]):typeof o=="number"?e.push([t,`${o}`]):o==null?e.push([t,""]):ze(o,t,e)}function dt(e,t,o){let n=z(o==null?void 0:o.value),l=b(()=>e.value!==void 0);return[b(()=>l.value?e.value:n.value),function(a){return l.value||(n.value=a),t==null?void 0:t(a)}]}function Ve(e){return[e.screenX,e.screenY]}function pt(){let e=z([-1,-1]);return{wasMoved(t){let o=Ve(t);return e.value[0]===o[0]&&e.value[1]===o[1]?!1:(e.value=o,!0)},update(t){e.value=Ve(t)}}}function ct(e,t){return e===t}var vt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(vt||{}),ft=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ft||{}),bt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(bt||{});let Fe=Symbol("ComboboxContext");function ie(e){let t=lt(Fe,null);if(t===null){let o=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ie),o}return t}let mt=Y({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ct},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:o,emit:n}){let l=z(1),a=z(null),u=z(null),s=z(null),i=z(null),d=z({static:!1,hold:!1}),y=z([]),v=z(null),p=z(1),g=z(!1);function c(m=O=>O){let O=v.value!==null?y.value[v.value]:null,w=Je(m(y.value.slice()),S=>L(S.dataRef.domRef)),x=O?w.indexOf(O):null;return x===-1&&(x=null),{options:w,activeOptionIndex:x}}let I=b(()=>e.multiple?1:0),h=b(()=>e.nullable),[r,P]=dt(b(()=>e.modelValue),m=>n("update:modelValue",m),b(()=>e.defaultValue)),R=b(()=>r.value===void 0?Q(I.value,{1:[],0:void 0}):r.value),T=null,$=null,C={comboboxState:l,value:R,mode:I,compare(m,O){if(typeof e.by=="string"){let w=e.by;return(m==null?void 0:m[w])===(O==null?void 0:O[w])}return e.by(m,O)},defaultValue:b(()=>e.defaultValue),nullable:h,inputRef:u,labelRef:a,buttonRef:s,optionsRef:i,disabled:b(()=>e.disabled),options:y,change(m){P(m)},activeOptionIndex:b(()=>{if(g.value&&v.value===null&&y.value.length>0){let m=y.value.findIndex(O=>!O.dataRef.disabled);m!==-1&&(v.value=m)}return v.value}),activationTrigger:p,optionsPropsRef:d,closeCombobox(){g.value=!1,!e.disabled&&l.value!==1&&(l.value=1,v.value=null)},openCombobox(){if(g.value=!0,e.disabled||l.value===0)return;let m=y.value.findIndex(O=>{let w=A(O.dataRef.value);return Q(I.value,{0:()=>C.compare(A(C.value.value),A(w)),1:()=>A(C.value.value).some(x=>C.compare(A(x),A(w)))})});m!==-1&&(v.value=m),l.value=0},goToOption(m,O,w){g.value=!1,T!==null&&cancelAnimationFrame(T),T=requestAnimationFrame(()=>{if(e.disabled||i.value&&!d.value.static&&l.value===1)return;let x=c();if(x.activeOptionIndex===null){let D=x.options.findIndex(ee=>!ee.dataRef.disabled);D!==-1&&(x.activeOptionIndex=D)}let S=rt(m===B.Specific?{focus:B.Specific,id:O}:{focus:m},{resolveItems:()=>x.options,resolveActiveIndex:()=>x.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});v.value=S,p.value=w!=null?w:1,y.value=x.options})},selectOption(m){let O=y.value.find(x=>x.id===m);if(!O)return;let{dataRef:w}=O;P(Q(I.value,{0:()=>w.value,1:()=>{let x=A(C.value.value).slice(),S=A(w.value),D=x.findIndex(ee=>C.compare(S,A(ee)));return D===-1?x.push(S):x.splice(D,1),x}}))},selectActiveOption(){if(C.activeOptionIndex.value===null)return;let{dataRef:m,id:O}=y.value[C.activeOptionIndex.value];P(Q(I.value,{0:()=>m.value,1:()=>{let w=A(C.value.value).slice(),x=A(m.value),S=w.findIndex(D=>C.compare(x,A(D)));return S===-1?w.push(x):w.splice(S,1),w}})),C.goToOption(B.Specific,O)},registerOption(m,O){$&&cancelAnimationFrame($);let w={id:m,dataRef:O},x=c(S=>(S.push(w),S));if(v.value===null){let S=O.value.value;Q(I.value,{0:()=>C.compare(A(C.value.value),A(S)),1:()=>A(C.value.value).some(D=>C.compare(A(D),A(S)))})&&(x.activeOptionIndex=x.options.indexOf(w))}y.value=x.options,v.value=x.activeOptionIndex,p.value=1,x.options.some(S=>!L(S.dataRef.domRef))&&($=requestAnimationFrame(()=>{let S=c();y.value=S.options,v.value=S.activeOptionIndex}))},unregisterOption(m){var O;C.activeOptionIndex.value!==null&&((O=C.options.value[C.activeOptionIndex.value])==null?void 0:O.id)===m&&(g.value=!0);let w=c(x=>{let S=x.findIndex(D=>D.id===m);return S!==-1&&x.splice(S,1),x});y.value=w.options,v.value=w.activeOptionIndex,p.value=1}};Ue([u,s,i],()=>C.closeCombobox(),b(()=>l.value===0)),et(Fe,C),Ke(b(()=>Q(l.value,{0:pe.Open,1:pe.Closed})));let K=b(()=>C.activeOptionIndex.value===null?null:y.value[C.activeOptionIndex.value].dataRef.value),G=b(()=>{var m;return(m=L(u))==null?void 0:m.closest("form")});return be(()=>{ge([G],()=>{if(!G.value||e.defaultValue===void 0)return;function m(){C.change(e.defaultValue)}return G.value.addEventListener("reset",m),()=>{var O;(O=G.value)==null||O.removeEventListener("reset",m)}},{immediate:!0})}),()=>{let D=e,{name:m,disabled:O,form:w}=D,x=de(D,["name","disabled","form"]),S={open:l.value===0,disabled:O,activeIndex:C.activeOptionIndex.value,activeOption:K.value,value:R.value};return we(oe,[...m!=null&&R.value!=null?ze({[m]:R.value}).map(([ee,Ne])=>we(He,We({features:Ye.Hidden,key:ee,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:w,name:ee,value:Ne}))):[],ne({theirProps:J(J({},o),Pe(x,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])),ourProps:{},slot:S,slots:t,attrs:o,name:"Combobox"})])}}}),gt=Y({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${fe()}`}},setup(e,{attrs:t,slots:o,expose:n}){let l=ie("ComboboxButton");n({el:l.buttonRef,$el:l.buttonRef});function a(i){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(i.preventDefault(),l.openCombobox()),X(()=>{var d;return(d=L(l.inputRef))==null?void 0:d.focus({preventScroll:!0})}))}function u(i){switch(i.key){case q.ArrowDown:i.preventDefault(),i.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),X(()=>{var d;return(d=l.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case q.ArrowUp:i.preventDefault(),i.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),X(()=>{l.value.value||l.goToOption(B.Last)})),X(()=>{var d;return(d=l.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case q.Escape:if(l.comboboxState.value!==0)return;i.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&i.stopPropagation(),l.closeCombobox(),X(()=>{var d;return(d=l.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return}}let s=it(b(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var i,d;let y={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},c=e,{id:v}=c,p=de(c,["id"]),g={ref:l.buttonRef,id:v,type:s.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(i=L(l.optionsRef))==null?void 0:i.id,"aria-expanded":l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(d=L(l.labelRef))==null?void 0:d.id,v].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:u,onClick:a};return ne({ourProps:g,theirProps:p,slot:y,attrs:t,slots:o,name:"ComboboxButton"})}}}),ht=Y({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${fe()}`}},emits:{change:e=>!0},setup(e,{emit:t,attrs:o,slots:n,expose:l}){let a=ie("ComboboxInput"),u=b(()=>Ie(L(a.inputRef))),s={value:!1};l({el:a.inputRef,$el:a.inputRef});function i(){a.change(null);let r=L(a.optionsRef);r&&(r.scrollTop=0),a.goToOption(B.Nothing)}let d=b(()=>{var r;let P=a.value.value;return L(a.inputRef)?typeof e.displayValue!="undefined"&&P!==void 0?(r=e.displayValue(P))!=null?r:"":typeof P=="string"?P:"":""});be(()=>{ge([d,a.comboboxState,u],([r,P],[R,T])=>{if(s.value)return;let $=L(a.inputRef);$&&((T===0&&P===1||r!==R)&&($.value=r),requestAnimationFrame(()=>{var C;if(s.value||!$||((C=u.value)==null?void 0:C.activeElement)!==$)return;let{selectionStart:K,selectionEnd:G}=$;Math.abs((G!=null?G:0)-(K!=null?K:0))===0&&K===0&&$.setSelectionRange($.value.length,$.value.length)}))},{immediate:!0}),ge([a.comboboxState],([r],[P])=>{if(r===0&&P===1){if(s.value)return;let R=L(a.inputRef);if(!R)return;let T=R.value,{selectionStart:$,selectionEnd:C,selectionDirection:K}=R;R.value="",R.value=T,K!==null?R.setSelectionRange($,C,K):R.setSelectionRange($,C)}})});let y=z(!1);function v(){y.value=!0}function p(){Qe().nextFrame(()=>{y.value=!1})}function g(r){switch(s.value=!0,r.key){case q.Enter:if(s.value=!1,a.comboboxState.value!==0||y.value)return;if(r.preventDefault(),r.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case q.ArrowDown:return s.value=!1,r.preventDefault(),r.stopPropagation(),Q(a.comboboxState.value,{0:()=>a.goToOption(B.Next),1:()=>a.openCombobox()});case q.ArrowUp:return s.value=!1,r.preventDefault(),r.stopPropagation(),Q(a.comboboxState.value,{0:()=>a.goToOption(B.Previous),1:()=>{a.openCombobox(),X(()=>{a.value.value||a.goToOption(B.Last)})}});case q.Home:if(r.shiftKey)break;return s.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(B.First);case q.PageUp:return s.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(B.First);case q.End:if(r.shiftKey)break;return s.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(B.Last);case q.PageDown:return s.value=!1,r.preventDefault(),r.stopPropagation(),a.goToOption(B.Last);case q.Escape:if(s.value=!1,a.comboboxState.value!==0)return;r.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&r.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&i(),a.closeCombobox();break;case q.Tab:if(s.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.selectActiveOption(),a.closeCombobox();break}}function c(r){t("change",r),a.nullable.value&&a.mode.value===0&&r.target.value===""&&i(),a.openCombobox()}function I(){s.value=!1}let h=b(()=>{var r,P,R,T;return(T=(R=(P=e.defaultValue)!=null?P:a.defaultValue.value!==void 0?(r=e.displayValue)==null?void 0:r.call(e,a.defaultValue.value):null)!=null?R:a.defaultValue.value)!=null?T:""});return()=>{var r,P,R,T,$,C;let K={open:a.comboboxState.value===0},S=e,{id:G,displayValue:m,onChange:O}=S,w=de(S,["id","displayValue","onChange"]),x={"aria-controls":(r=a.optionsRef.value)==null?void 0:r.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null||(P=a.options.value[a.activeOptionIndex.value])==null?void 0:P.id,"aria-labelledby":($=(R=L(a.labelRef))==null?void 0:R.id)!=null?$:(T=L(a.buttonRef))==null?void 0:T.id,"aria-autocomplete":"list",id:G,onCompositionstart:v,onCompositionend:p,onKeydown:g,onInput:c,onBlur:I,role:"combobox",type:(C=o.type)!=null?C:"text",tabIndex:0,ref:a.inputRef,defaultValue:h.value,disabled:a.disabled.value===!0?!0:void 0};return ne({ourProps:x,theirProps:w,slot:K,attrs:o,slots:n,features:ce.RenderStrategy|ce.Static,name:"ComboboxInput"})}}}),yt=Y({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:o,expose:n}){let l=ie("ComboboxOptions"),a=`headlessui-combobox-options-${fe()}`;n({el:l.optionsRef,$el:l.optionsRef}),ae(()=>{l.optionsPropsRef.value.static=e.static}),ae(()=>{l.optionsPropsRef.value.hold=e.hold});let u=Ge(),s=b(()=>u!==null?(u.value&pe.Open)===pe.Open:l.comboboxState.value===0);return ut({container:b(()=>L(l.optionsRef)),enabled:b(()=>l.comboboxState.value===0),accept(i){return i.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:i.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(i){i.setAttribute("role","none")}}),()=>{var i,d,y;let v={open:l.comboboxState.value===0},p={"aria-labelledby":(y=(i=L(l.labelRef))==null?void 0:i.id)!=null?y:(d=L(l.buttonRef))==null?void 0:d.id,id:a,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},g=Pe(e,["hold"]);return ne({ourProps:p,theirProps:g,slot:v,attrs:t,slots:o,features:ce.RenderStrategy|ce.Static,visible:s.value,name:"ComboboxOptions"})}}}),xt=Y({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:o,expose:n}){let l=ie("ComboboxOption"),a=`headlessui-combobox-option-${fe()}`,u=z(null);n({el:u,$el:u});let s=b(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===a:!1),i=b(()=>Q(l.mode.value,{0:()=>l.compare(A(l.value.value),A(e.value)),1:()=>A(l.value.value).some(h=>l.compare(A(h),A(e.value)))})),d=b(()=>({disabled:e.disabled,value:e.value,domRef:u}));be(()=>l.registerOption(a,d)),tt(()=>l.unregisterOption(a)),ae(()=>{l.comboboxState.value===0&&s.value&&l.activationTrigger.value!==0&&X(()=>{var h,r;return(r=(h=L(u))==null?void 0:h.scrollIntoView)==null?void 0:r.call(h,{block:"nearest"})})});function y(h){if(e.disabled)return h.preventDefault();l.selectOption(a),l.mode.value===0&&l.closeCombobox(),Xe()||requestAnimationFrame(()=>{var r;return(r=L(l.inputRef))==null?void 0:r.focus()})}function v(){if(e.disabled)return l.goToOption(B.Nothing);l.goToOption(B.Specific,a)}let p=pt();function g(h){p.update(h)}function c(h){p.wasMoved(h)&&(e.disabled||s.value||l.goToOption(B.Specific,a,0))}function I(h){p.wasMoved(h)&&(e.disabled||s.value&&(l.optionsPropsRef.value.hold||l.goToOption(B.Nothing)))}return()=>{let{disabled:h}=e,r={active:s.value,selected:i.value,disabled:h},P={id:a,ref:u,role:"option",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,"aria-selected":i.value,disabled:void 0,onClick:y,onFocus:v,onPointerenter:g,onMouseenter:g,onPointermove:c,onMousemove:c,onPointerleave:I,onMouseleave:I};return ne({ourProps:P,theirProps:e,slot:r,attrs:o,slots:t,name:"ComboboxOption"})}}});const Ct={name:"Autocomplete",props:{options:{type:Array,default:()=>[]},modelValue:{type:[String,Object,Array]},placeholder:{type:String},bodyClasses:{type:[String,Array,Object]},multiple:{type:Boolean,default:!1},hideSearch:{type:Boolean,default:!1}},emits:["update:modelValue","update:query","change"],components:{Popover:st,Button:Le,FeatherIcon:at,Combobox:mt,ComboboxInput:ht,ComboboxOptions:yt,ComboboxOption:xt,ComboboxButton:gt},expose:["togglePopover","rootRef"],data(){return{query:"",showOptions:!1}},computed:{selectedValue:{get(){var e,t;return this.multiple?le((e=this.modelValue)==null?void 0:e[0])==="value"?(t=this.modelValue)==null?void 0:t.map(o=>this.findOption(o)):this.modelValue:this.findOption(this.modelValue)},set(e){if(this.query="",e&&!this.multiple&&(this.showOptions=!1),!this.multiple){this.$emit("update:modelValue",e);return}this.$emit("update:modelValue",e)}},groups(){var t;return!this.options||this.options.length==0?[]:((t=this.options[0])!=null&&t.group?this.options:[{group:"",items:this.sanitizeOptions(this.options)}]).map((o,n)=>({key:n,group:o.group,hideLabel:o.hideLabel||!1,items:this.filterOptions(this.sanitizeOptions(o.items))})).filter(o=>o.items.length>0)},allOptions(){return this.groups.flatMap(e=>e.items)},areAllOptionsSelected(){var e;return this.multiple?this.allOptions.length===((e=this.selectedValue)==null?void 0:e.length):!1}},watch:{query(e){this.$emit("update:query",e)},showOptions(e){e&&X(()=>{var t,o;return(o=(t=this.$refs.searchInput)==null?void 0:t.$el)==null?void 0:o.focus()})}},methods:{rootRef(){return this.$refs.rootRef},togglePopover(e){this.showOptions=e!=null?e:!this.showOptions},findOption(e){if(!e)return e;const t=le(e)==="value"?e:e.value;return this.allOptions.find(o=>o.value===t)},filterOptions(e){return this.query?e.filter(t=>t.label.toLowerCase().includes(this.query.trim().toLowerCase())||t.value.toLowerCase().includes(this.query.trim().toLowerCase())):e},displayValue(e){return e?this.multiple?Array.isArray(e)?e.map(t=>this.getLabel(this.findOption(t))).join(", "):"":this.getLabel(this.findOption(e)):""},getLabel(e){return le(e)==="value"?e:(e==null?void 0:e.label)||(e==null?void 0:e.value)||"No label"},sanitizeOptions(e){return e?e.map(t=>le(t)==="option"?t:{label:t,value:t}):[]},isOptionSelected(e){var o,n;if(!this.selectedValue)return!1;const t=le(e)==="value"?e:e.value;return this.multiple?(n=this.selectedValue)==null?void 0:n.find(l=>l&&l.value===t):((o=this.selectedValue)==null?void 0:o.value)===t},selectAll(){this.selectedValue=this.allOptions},clearAll(){this.selectedValue=[]}}};function le(e){return typeof e=="object"?"option":"value"}const Ot={class:"w-full"},kt=["onClick"],wt={class:"flex items-center overflow-hidden"},St={key:0,class:"truncate text-base leading-5"},Rt={key:1,class:"text-base leading-5 text-gray-500"},Vt={key:0,class:"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-white py-1.5"},It={class:"relative w-full"},Pt={key:0,class:"sticky top-10 truncate bg-white px-2.5 py-1.5 text-sm font-medium text-gray-600"},At={class:"flex flex-1 gap-2 overflow-hidden"},Lt={key:0,class:"flex-shrink-0"},_t={key:1,class:"h-4 w-4"},$t={class:"flex-1 truncate"},Dt={key:0,class:"ml-2 flex-shrink-0"},zt={key:0,class:"text-sm text-gray-600"},Bt={key:1,class:"rounded-md px-2.5 py-1.5 text-base text-gray-600"},Tt={key:0,class:"border-t p-1"},Ft={key:0,class:"flex items-center justify-end"};function Et(e,t,o,n,l,a){const u=H("FeatherIcon"),s=H("ComboboxInput"),i=H("ComboboxOption"),d=H("ComboboxOptions"),y=H("Button"),v=H("Popover"),p=H("Combobox");return f(),W(p,{modelValue:a.selectedValue,"onUpdate:modelValue":t[3]||(t[3]=g=>a.selectedValue=g),multiple:o.multiple,nullable:""},{default:j(({open:g})=>[Z(v,{class:"w-full",show:l.showOptions,"onUpdate:show":t[2]||(t[2]=c=>l.showOptions=c),ref:"rootRef"},{target:j(({open:c,togglePopover:I})=>[F(e.$slots,"target",se(ve({open:c,togglePopover:I})),()=>[E("div",Ot,[E("button",{class:N(["flex h-7 w-full items-center justify-between gap-2 rounded bg-gray-100 px-2 py-1 transition-colors hover:bg-gray-200 focus:ring-2 focus:ring-gray-400",{"bg-gray-200":g}]),onClick:()=>I()},[E("div",wt,[F(e.$slots,"prefix"),a.selectedValue?(f(),k("span",St,M(a.displayValue(a.selectedValue)),1)):(f(),k("span",Rt,M(o.placeholder||""),1))]),Z(u,{name:"chevron-down",class:"h-4 w-4 text-gray-600","aria-hidden":"true"})],10,kt)])])]),body:j(({isOpen:c,togglePopover:I})=>[he(E("div",null,[E("div",{class:N(["relative mt-1 rounded-lg bg-white text-base shadow-2xl",o.bodyClasses])},[Z(d,{class:N(["max-h-[15rem] overflow-y-auto px-1.5 pb-1.5",{"pt-1.5":o.hideSearch}]),static:""},{default:j(()=>[o.hideSearch?_("",!0):(f(),k("div",Vt,[E("div",It,[Z(s,{ref:"searchInput",class:"form-input w-full",type:"text",onChange:t[0]||(t[0]=h=>{l.query=h.target.value}),value:l.query,autocomplete:"off",placeholder:"Search"},null,8,["value"]),E("button",{class:"absolute right-0 inline-flex h-7 w-7 items-center justify-center",onClick:t[1]||(t[1]=h=>a.selectedValue=null)},[Z(u,{name:"x",class:"w-4"})])])])),(f(!0),k(oe,null,ye(a.groups,h=>he((f(),k("div",{key:h.key},[h.group&&!h.hideLabel?(f(),k("div",Pt,M(h.group),1)):_("",!0),(f(!0),k(oe,null,ye(h.items.slice(0,50),(r,P)=>(f(),W(i,{as:"template",key:(r==null?void 0:r.value)||P,value:r},{default:j(({active:R,selected:T})=>[E("li",{class:N(["flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base",{"bg-gray-100":R}])},[E("div",At,[e.$slots["item-prefix"]||e.$props.multiple?(f(),k("div",Lt,[F(e.$slots,"item-prefix",U({ref_for:!0},{active:R,selected:T,option:r}),()=>[a.isOptionSelected(r)?(f(),W(u,{key:0,name:"check",class:"h-4 w-4 text-gray-700"})):(f(),k("div",_t))])])):_("",!0),E("span",$t,M(a.getLabel(r)),1)]),e.$slots["item-suffix"]||r!=null&&r.description?(f(),k("div",Dt,[F(e.$slots,"item-suffix",U({ref_for:!0},{active:R,selected:T,option:r}),()=>[r!=null&&r.description?(f(),k("div",zt,M(r.description),1)):_("",!0)])])):_("",!0)],2)]),_:2},1032,["value"]))),128))])),[[xe,h.items.length>0]])),128)),a.groups.length==0?(f(),k("li",Bt," No results found ")):_("",!0)]),_:3},8,["class"]),e.$slots.footer||o.multiple?(f(),k("div",Tt,[F(e.$slots,"footer",se(ve({togglePopover:I})),()=>[o.multiple?(f(),k("div",Ft,[a.areAllOptionsSelected?_("",!0):(f(),W(y,{key:0,label:"Select All",onClick:Se(a.selectAll,["stop"])},null,8,["onClick"])),a.areAllOptionsSelected?(f(),W(y,{key:1,label:"Clear All",onClick:Se(a.clearAll,["stop"])},null,8,["onClick"])):_("",!0)])):_("",!0)])])):_("",!0)],2)],512),[[xe,c]])]),_:2},1032,["show"])]),_:3},8,["modelValue","multiple"])}const Nt=Ae(Ct,[["render",Et]]);let jt=0;function qt(){return++jt}function Ee(){return"frappe-ui-"+qt()}const Mt=["disabled","id","checked"],Ut=["for"],Kt=Y({__name:"Checkbox",props:{size:{default:"sm"},label:{},checked:{type:Boolean},disabled:{type:Boolean},padding:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number]},id:{}},setup(e){var u;const t=e,o=re(),n=(u=t.id)!=null?u:Ee(),l=b(()=>[{sm:"text-base font-medium",md:"text-lg font-medium"}[t.size],t.disabled?"text-gray-500":"text-gray-800","select-none"]),a=b(()=>{let s=t.disabled?"border-gray-300 bg-gray-50 text-gray-400":"border-gray-500 text-gray-900 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition",i=t.disabled?"":t.padding?"focus:ring-0":"hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 active:bg-gray-100",d={sm:"w-3.5 h-3.5",md:"w-4 h-4"}[t.size];return[s,i,d]});return(s,i)=>(f(),k("div",{class:N(["inline-flex items-center space-x-2 rounded transition",{"px-2.5 py-1.5":s.padding&&s.size==="sm","px-3 py-2":s.padding&&s.size==="md","focus-within:bg-gray-100 focus-within:ring-2 focus-within:ring-gray-400 hover:bg-gray-200 active:bg-gray-300":s.padding&&!s.disabled}])},[E("input",U({class:["rounded-sm",a.value],type:"checkbox",disabled:s.disabled,id:V(n),checked:!!s.modelValue,onChange:i[0]||(i[0]=d=>s.$emit("update:modelValue",d.target.checked))},V(o)),null,16,Mt),s.label?(f(),k("label",{key:0,class:N(["block",l.value]),for:V(n)},M(s.label),11,Ut)):_("",!0)],2))}}),Ht={class:"relative flex items-center"},Wt=["type","placeholder","disabled","id","value"],Yt=Y({__name:"TextInput",props:{type:{default:"text"},size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},debounce:{}},emits:["update:modelValue"],setup(e,{expose:t,emit:o}){const n=e,l=o,a=_e(),u=re(),s=z(null);t({el:s});const i=b(()=>n.disabled?"text-gray-600":"text-gray-800"),d=b(()=>{let c={sm:"text-base rounded h-7",md:"text-base rounded h-8",lg:"text-lg rounded-md h-10",xl:"text-xl rounded-md h-10"}[n.size],I={sm:["py-1.5",a.prefix?"pl-8":"pl-2",a.suffix?"pr-8":"pr-2"],md:["py-1.5",a.prefix?"pl-9":"pl-2.5",a.suffix?"pr-9":"pr-2.5"],lg:["py-1.5",a.prefix?"pl-10":"pl-3",a.suffix?"pr-10":"pr-3"],xl:["py-1.5",a.prefix?"pl-10":"pl-3",a.suffix?"pr-10":"pr-3"]}[n.size],h=n.disabled?"disabled":n.variant,r={subtle:"border border-gray-100 bg-gray-100 placeholder-gray-500 hover:border-gray-200 hover:bg-gray-200 focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",outline:"border border-gray-300 bg-white placeholder-gray-500 hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",disabled:["border bg-gray-50 placeholder-gray-400",n.variant==="outline"?"border-gray-300":"border-transparent"]}[h];return[c,I,r,i.value,"transition-colors w-full"]});let y=b(()=>({sm:"pl-2",md:"pl-2.5",lg:"pl-3",xl:"pl-3"})[n.size]),v=b(()=>({sm:"pr-2",md:"pr-2.5",lg:"pr-3",xl:"pr-3"})[n.size]),p=c=>{l("update:modelValue",c)};n.debounce&&(p=$e(p,n.debounce));let g=c=>{p(c.target.value)};return(c,I)=>(f(),k("div",Ht,[c.$slots.prefix?(f(),k("div",{key:0,class:N(["absolute inset-y-0 left-0 flex items-center",i.value,V(y)])},[F(c.$slots,"prefix")],2)):_("",!0),E("input",U({ref_key:"inputRef",ref:s,type:c.type,placeholder:c.placeholder,class:d.value,disabled:c.disabled,id:c.id,value:c.modelValue,onInput:I[0]||(I[0]=(...h)=>V(g)&&V(g)(...h)),onChange:I[1]||(I[1]=(...h)=>V(g)&&V(g)(...h))},V(u)),null,16,Wt),c.$slots.suffix?(f(),k("div",{key:1,class:N(["absolute inset-y-0 right-0 flex items-center",i.value,V(v)])},[F(c.$slots,"suffix")],2)):_("",!0)]))}}),Gt={class:"relative flex items-center"},Jt=["disabled","id","value"],Qt=["value","disabled","selected"],Xt=Y({inheritAttrs:!1,__name:"Select",props:{size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},options:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,n=t;_e();const l=re();function a(p){n("update:modelValue",p.target.value)}const u=b(()=>{var p;return((p=o.options)==null?void 0:p.map(g=>typeof g=="string"?{label:g,value:g}:g).filter(Boolean))||[]}),s=b(()=>o.disabled?"text-gray-500":"text-gray-800"),i=b(()=>({sm:"text-base",md:"text-base",lg:"text-lg",xl:"text-xl"})[o.size]),d=b(()=>({sm:"px-2",md:"px-2.5",lg:"px-3",xl:"px-3"})[o.size]),y=b(()=>{let p={sm:"rounded h-7",md:"rounded h-8",lg:"rounded-md h-10",xl:"rounded-md h-10"}[o.size],g=o.disabled?"disabled":o.variant,c={subtle:"border border-gray-100 bg-gray-100 hover:border-gray-200 hover:bg-gray-200 focus:border-gray-500 focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",outline:"border border-gray-300 bg-white hover:border-gray-400 focus:border-gray-500 focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",ghost:"bg-transparent border-transparent hover:bg-gray-200 focus:bg-gray-200 focus:border-gray-500 focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",disabled:["border",o.variant!=="ghost"?"bg-gray-50":"",o.variant==="outline"?"border-gray-300":"border-transparent"]}[g];return[p,i.value,d.value,c,s.value,"transition-colors w-full py-0"]});let v=b(()=>({sm:"pl-2",md:"pl-2.5",lg:"pl-3",xl:"pl-3"})[o.size]);return(p,g)=>(f(),k("div",Gt,[p.$slots.prefix?(f(),k("div",{key:0,class:N(["absolute inset-y-0 left-0 flex items-center",s.value,V(v)])},[F(p.$slots,"prefix")],2)):_("",!0),p.placeholder?he((f(),k("div",{key:1,class:N(["pointer-events-none absolute text-gray-500",[i.value,d.value]])},M(p.placeholder),3)),[[xe,!p.modelValue]]):_("",!0),E("select",U({class:y.value,disabled:p.disabled,id:p.id,value:p.modelValue,onChange:a},V(l)),[(f(!0),k(oe,null,ye(u.value,c=>(f(),k("option",{key:c.value,value:c.value,disabled:c.disabled||!1,selected:p.modelValue===c.value},M(c.label),9,Qt))),128))],16,Jt)]))}}),Zt={class:"space-y-1.5"},el=["for"],tl=["placeholder","disabled","id","value","rows"],ll=Y({__name:"Textarea",props:{size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},debounce:{},rows:{default:3},label:{}},emits:["update:modelValue"],setup(e,{expose:t,emit:o}){const n=e,l=o,a=re(),u=z(null),s=b(()=>{let v={sm:"text-base rounded",md:"text-base rounded",lg:"text-lg rounded-md",xl:"text-xl rounded-md"}[n.size],p={sm:["py-1.5 px-2"],md:["py-1.5 px-2.5"],lg:["py-1.5 px-3"],xl:["py-1.5 px-3"]}[n.size],g=n.disabled?"disabled":n.variant,c={subtle:"border border-gray-100 bg-gray-100 placeholder-gray-500 hover:border-gray-200 hover:bg-gray-200 focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",outline:"border border-gray-300 bg-white placeholder-gray-500 hover:border-gray-400 hover:shadow-sm focus:bg-white focus:border-gray-500 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400",disabled:["border bg-gray-50 placeholder-gray-400",n.variant==="outline"?"border-gray-300":"border-transparent"]}[g];return[v,p,c,n.disabled?"text-gray-600":"text-gray-800","transition-colors w-full block"]}),i=b(()=>[{sm:"text-xs",md:"text-base",lg:"text-lg",xl:"text-xl"}[n.size],"text-gray-600"]);let d=v=>{l("update:modelValue",v)};n.debounce&&(d=$e(d,n.debounce));let y=v=>{d(v.target.value)};return t({el:u}),(v,p)=>(f(),k("div",Zt,[v.label?(f(),k("label",{key:0,class:N(["block",i.value]),for:v.id},M(v.label),11,el)):_("",!0),E("textarea",U({ref_key:"textareaRef",ref:u,placeholder:v.placeholder,class:s.value,disabled:v.disabled,id:v.id,value:v.modelValue,rows:v.rows,onInput:p[0]||(p[0]=(...g)=>V(y)&&V(y)(...g)),onChange:p[1]||(p[1]=(...g)=>V(y)&&V(y)(...g))},V(a)),null,16,tl)]))}}),al=["for"],ol={key:0,class:"text-red-500"},sl={inheritAttrs:!1},nl=Y(te(J({},sl),{__name:"FormControl",props:{label:{},description:{},type:{default:"text"},size:{default:"sm"},required:{type:Boolean}},setup(e){const t=Ee(),o=e,n=re(),l=b(()=>{let s={};for(let i in n)i!=="class"&&i!=="style"&&(s[i]=n[i]);return s}),a=b(()=>[{sm:"text-xs",md:"text-base"}[o.size],"text-gray-600"]),u=b(()=>[{sm:"text-xs",md:"text-base"}[o.size],"text-gray-600"]);return(s,i)=>s.type!="checkbox"?(f(),k("div",{key:0,class:N(["space-y-1.5",V(n).class])},[s.label?(f(),k("label",{key:0,class:N(["block",a.value]),for:V(t)},[De(M(s.label)+" ",1),s.required?(f(),k("span",ol,"*")):_("",!0)],10,al)):_("",!0),s.type==="select"?(f(),W(Xt,U({key:1,id:V(t)},te(J({},l.value),{size:s.size})),me({_:2},[s.$slots.prefix?{name:"prefix",fn:j(()=>[F(s.$slots,"prefix")]),key:"0"}:void 0]),1040,["id"])):s.type==="autocomplete"?(f(),W(Nt,se(U({key:2},J({},l.value))),me({_:2},[s.$slots.prefix?{name:"prefix",fn:j(()=>[F(s.$slots,"prefix")]),key:"0"}:void 0,s.$slots["item-prefix"]?{name:"item-prefix",fn:j(d=>[F(s.$slots,"item-prefix",se(ve(d)))]),key:"1"}:void 0]),1040)):s.type==="textarea"?(f(),W(ll,U({key:3,id:V(t)},te(J({},l.value),{size:s.size})),null,16,["id"])):(f(),W(Yt,U({key:4,id:V(t)},te(J({},l.value),{type:s.type,size:s.size})),me({_:2},[s.$slots.prefix?{name:"prefix",fn:j(()=>[F(s.$slots,"prefix")]),key:"0"}:void 0,s.$slots.suffix?{name:"suffix",fn:j(()=>[F(s.$slots,"suffix")]),key:"1"}:void 0]),1040,["id"])),F(s.$slots,"description",{},()=>[s.description?(f(),k("p",{key:0,class:N(u.value)},M(s.description),3)):_("",!0)])],2)):(f(),W(Kt,U({key:1,id:V(t)},te(J({},l.value),{label:s.label,size:s.size,class:V(n).class})),null,16,["id"]))}})),rl={name:"InsertLink",props:["editor"],components:{Button:Le,FormControl:nl,Dialog:Ze},data(){return{setLinkDialog:{url:"",show:!1}}},methods:{openDialog(){let e=this.editor.getAttributes("link").href;e&&(this.setLinkDialog.url=e),this.setLinkDialog.show=!0},setLink(e){e===""?this.editor.chain().focus().extendMarkRange("link").unsetLink().run():this.editor.chain().focus().extendMarkRange("link").setLink({href:e}).run(),this.setLinkDialog.show=!1,this.setLinkDialog.url=""},reset(){this.setLinkDialog=this.$options.data().setLinkDialog}}};function il(e,t,o,n,l,a){const u=H("FormControl"),s=H("Button"),i=H("Dialog");return f(),k(oe,null,[F(e.$slots,"default",se(ve({onClick:a.openDialog}))),Z(i,{options:{title:"Set Link"},modelValue:l.setLinkDialog.show,"onUpdate:modelValue":t[3]||(t[3]=d=>l.setLinkDialog.show=d),onAfterLeave:a.reset},{"body-content":j(()=>[Z(u,{type:"text",label:"URL",modelValue:l.setLinkDialog.url,"onUpdate:modelValue":t[0]||(t[0]=d=>l.setLinkDialog.url=d),onKeydown:t[1]||(t[1]=ot(d=>a.setLink(d.target.value),["enter"]))},null,8,["modelValue"])]),actions:j(()=>[Z(s,{variant:"solid",onClick:t[2]||(t[2]=d=>a.setLink(l.setLinkDialog.url)),class:"w-full"},{default:j(()=>t[4]||(t[4]=[De(" Save ")])),_:1})]),_:1},8,["modelValue","onAfterLeave"])],64)}const vl=Ae(rl,[["render",il]]);export{vl as default};
