import{r as _,a as w,c as g,b as k,d as m,e as n,f as o,w as i,u as r,g as y,o as p,h as f,F as A,i as N,t as B,C as L,I as v}from"./index-D-AvquFI.js";import{D}from"./Dialog-DT3aKRmf.js";const E={class:"max-w-3xl py-12 mx-auto"},G={class:"flex flex-row items-center justify-between"},S={class:"mt-3"},T={class:"space-y-2"},F={__name:"Home",setup(U){const a=_({title:"",category:"General"}),d=w(!1),l=g({doctype:"Action",fields:["name","title","description","status","date","due_date"],limit:10,filters:{status:"To-do"}});l.reload();const s=g({doctype:"Category",fields:["name"],transform(u){return u.map(e=>e.name)},cache:"actions"});s.reload();const x=k(()=>s.list.loading||!s.data?[]:(console.log("Categories:",s.data),s.data)),b=u=>{l.setValue.submit({name:u,status:"Completed",onSuccess:()=>{l.reload()},onError:e=>{frappe.msgprint({title:"Error",message:e.message,indicator:"red"})}})},C=()=>{console.log("Adding action:",a),l.insert.submit(a)};return(u,e)=>{const c=y("Button"),V=y("router-link");return p(),m("div",E,[n("div",G,[e[5]||(e[5]=n("h2",{class:"text-2xl font-bold mb-4"},"Lists",-1)),o(c,{class:"btn","icon-left":"plus"},{default:i(()=>e[4]||(e[4]=[f("New List")])),_:1})]),n("div",S,[o(r(L),{title:"General"},{default:i(()=>[n("ul",null,[(p(!0),m(A,null,N(r(l).data,t=>(p(),m("li",{key:t.name,class:"flex flex-row items-center justify-between space-y-2"},[o(V,{to:`/actions/${t.name}`,class:"text-blue"},{default:i(()=>[f(B(t.title),1)]),_:2},1032,["to"]),o(c,{icon:"check",onClick:$=>b(t.name)},null,8,["onClick"])]))),128))]),o(c,{"icon-left":"plus",onClick:e[0]||(e[0]=t=>d.value=!0)},{default:i(()=>e[6]||(e[6]=[f("New Action")])),_:1})]),_:1})]),o(r(D),{options:{title:"Add New Ation",actions:[{label:"Add",variant:"solid",onClick:()=>{C(),d.value=!1}},{label:"Cancel",appearance:"secondary"}]},modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t)},{"body-content":i(()=>[n("div",T,[o(r(v),{modelValue:a.title,"onUpdate:modelValue":e[1]||(e[1]=t=>a.title=t),type:"text",required:"",label:"Title",placeholder:"Give a title for your action ..."},null,8,["modelValue"]),o(r(v),{modelValue:a.category,"onUpdate:modelValue":e[2]||(e[2]=t=>a.category=t),type:"select",required:"",label:"List",options:x.value},null,8,["modelValue","options"])])]),_:1},8,["options","modelValue"])])}}};export{F as default};
